<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:m="http://metawidget.org/faces">
<f:metadata>
	<f:viewParam name="id" value="#{userBean.id}">
		<!-- <f:validateLongRange minimum="1" />  -->
	</f:viewParam>
	<f:viewParam name="p" value="#{userBean.pagination.page}" />
</f:metadata>
<ui:composition template="/page/page-template.xhtml">
	<ui:param name="pageTitle" value="List User" />
	<ui:define name="header">User</ui:define>
	<ui:define name="subheader">Listing all system users</ui:define>
	<ui:define name="footer"></ui:define>
	<ui:define name="main">
		<h:form id="form">
			<h:messages />
			<h:link id="l_next_top" outcome="list" styleClass="right"
				value="Next #{userBean.pagination.pageSize}"
				rendered="#{userBean.pagination.hasNextPage}">
				<f:param name="p" value="#{userBean.pagination.page + 1}" />
			</h:link>
			<h:outputText styleClass="right"
				style="margin-left: 10px; margin-right: 10px;"
				value="#{userBean.pagination.pageFirstItem + 1}..#{userBean.pagination.pageLastItem + 1}/#{userBean.pagination.itemsCount}" />&nbsp;
            <h:link id="l_previous_top" outcome="list"
				styleClass="right" value="Previous #{userBean.pagination.pageSize}"
				rendered="#{userBean.pagination.hasPreviousPage}">
				<f:param name="p" value="#{userBean.pagination.page - 1}" />
			</h:link>
			<h:dataTable var="entity" value="#{userBean.list}"
				styleClass="data-table" rowClasses="row-odd, row-even">
				<h:column>
					<f:facet name="header">
						<h:outputText value="E-mail" />
					</f:facet>
					<h:link id="l_view" outcome="view">
						<f:param name="id" value="#{entity.id}" />
						<h:outputText value="#{entity.email}" />
					</h:link>
				</h:column>
				<h:column>
					<f:facet name="header">
						<h:outputText value="Name" />
					</f:facet>
					<h:outputText value="#{entity.fullName}" />
				</h:column>
			</h:dataTable>
			<br />
			<h:link id="l_next_bottom" outcome="list" styleClass="right"
				value="Next #{userBean.pagination.pageSize}"
				rendered="#{userBean.pagination.hasNextPage}">
				<f:param name="p" value="#{userBean.pagination.page + 1}" />
			</h:link>
			<h:outputText styleClass="right"
				style="margin-left: 10px; margin-right: 10px;"
				value="#{userBean.pagination.pageFirstItem + 
					1}..#{userBean.pagination.pageLastItem + 
					1}/#{userBean.pagination.itemsCount}" />&nbsp;
            <h:link id="l_previous_bottom" outcome="list"
				styleClass="right" value="Previous #{userBean.pagination.pageSize}"
				rendered="#{userBean.pagination.hasPreviousPage}">
				<f:param name="p" value="#{userBean.pagination.page - 1}" />
			</h:link>
			<h:commandLink id="l_generate" action="#{userBean.generate}"
				styleClass="right" value="Generate" />
		</h:form>
	</ui:define>
</ui:composition>
</html>
